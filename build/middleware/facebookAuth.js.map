{"version":3,"sources":["../../src/middleware/facebookAuth.js"],"names":["facebookAuth","passport","use","Strategy","clientID","process","env","FACEBOOK_CLIENT_ID","clientSecret","FACEBOOK_CLIENT_SECRET","callbackURL","profileFields","accessToken","refreshToken","profile","done","_json","id","email","last_name","first_name","picture","user","module","exports"],"mappings":";;;;AACA;;AACA;;AAFA;AAIA,IAAMA,YAAY,GAAG,SAAfA,YAAe,GAAM;AACvBC,uBAASC,GAAT,CACI,IAAIC,0BAAJ,CACI;AACIC,IAAAA,QAAQ,EAAEC,OAAO,CAACC,GAAR,CAAYC,kBAD1B;AAEIC,IAAAA,YAAY,EAAEH,OAAO,CAACC,GAAR,CAAYG,sBAF9B;AAGIC,IAAAA,WAAW,EAAE,2DAHjB;AAIIC,IAAAA,aAAa,EAAE,CAAC,IAAD,EAAO,MAAP,EAAe,QAAf,EAAyB,OAAzB;AAJnB,GADJ,EAOI,UAACC,WAAD,EAAcC,YAAd,EAA4BC,OAA5B,EAAqCC,IAArC,EAA8C;AAAA,yBACYD,OAAO,CAACE,KADpB;AAAA,QAClCC,EADkC,kBAClCA,EADkC;AAAA,QAC9BC,KAD8B,kBAC9BA,KAD8B;AAAA,QACvBC,SADuB,kBACvBA,SADuB;AAAA,QACZC,UADY,kBACZA,UADY;AAAA,QACAC,OADA,kBACAA,OADA;AAE1C,QAAMC,IAAI,GAAG;AACTV,MAAAA,WAAW,EAAXA,WADS;AAETM,MAAAA,KAAK,EAALA,KAFS;AAGTE,MAAAA,UAAU,EAAVA,UAHS;AAITD,MAAAA,SAAS,EAATA,SAJS;AAKTF,MAAAA,EAAE,EAAFA,EALS;AAMTI,MAAAA,OAAO,EAAPA;AANS,KAAb;AAQA,WAAON,IAAI,CAAC,IAAD,EAAOO,IAAP,CAAX;AACH,GAlBL,CADJ;AAsBH,CAvBD;;AAyBAC,MAAM,CAACC,OAAP,GAAiBxB,YAAjB","sourcesContent":["/* eslint-disable no-undef */\nimport passport from 'passport'\nimport { Strategy } from 'passport-facebook'\n\nconst facebookAuth = () => {\n    passport.use(\n        new Strategy(\n            {\n                clientID: process.env.FACEBOOK_CLIENT_ID,\n                clientSecret: process.env.FACEBOOK_CLIENT_SECRET,\n                callbackURL: 'http://localhost:8000/api/v1/users/auth/facebook/callback',\n                profileFields: ['id', 'name', 'photos', 'email'],\n            },\n            (accessToken, refreshToken, profile, done) => {\n                const { id, email, last_name, first_name, picture } = profile._json\n                const user = {\n                    accessToken,\n                    email,\n                    first_name,\n                    last_name,\n                    id,\n                    picture,\n                }\n                return done(null, user)\n            }\n        )\n    )\n}\n\nmodule.exports = facebookAuth\n"],"file":"facebookAuth.js"}